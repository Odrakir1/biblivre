<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- Validators -->

	<bean id="userValidator" name="userValidator"
		class="biblivre.circulation.user.Validator" scope="prototype">
		<property name="accessControlBO" ref="accessControlBO" />
		<property name="userBO" ref="userBO" />
		<property name="lendingBO" ref="lendingBO" />
		<property name="userTypeBO" ref="userTypeBO" />
	</bean>

	<bean id="permissionValidator" name="permissionValidator"
		class="biblivre.administration.permissions.Validator"
		scope="prototype">
		<property name="loginBO" ref="loginBO" />
		<property name="userBO" ref="userBO" />
	</bean>

	<bean id="loginValidator" name="loginValidator"
		class="biblivre.login.Validator">
		<property name="loginBO" ref="loginBO" />
	</bean>

	<!-- Handlers -->

	<bean id="backupHandler" name="backupHandler"
		class="biblivre.administration.backup.Handler" scope="prototype">
		<property name="backupBO" ref="backupBO" />
	</bean>

	<bean id="accesscardsHandler" name="accesscardsHandler"
		class="biblivre.administration.accesscards.Handler" scope="prototype">
		<property name="accessCardBO" ref="accessCardBO" />
	</bean>

	<bean id="loginHandler" name="loginHandler"
		class="biblivre.login.Handler">
		<property name="loginBO" ref="loginBO" />
		<property name="indexingBO" ref="indexingBO" />
		<property name="authorizationBO" ref="authorizationBO" />
		<property name="backupBO" ref="backupBO" />
	</bean>

	<bean id="accesscontrolHandler" name="accesscontrolHandler"
		class="biblivre.circulation.accesscontrol.Handler" scope="prototype">
		<property name="accessCardBO" ref="accessCardBO" />
		<property name="accessControlBO" ref="accessControlBO" />
		<property name="userBO" ref="userBO" />
	</bean>

	<bean id="quotationHandler" name="quotationHandler"
		class="biblivre.acquisition.quotation.Handler" scope="prototype">
		<property name="quotationBO" ref="quotationBO" />
	</bean>

	<bean id="menuHandler" name="menuHandler"
		class="biblivre.menu.Handler" scope="prototype">
		<property name="userBO" ref="userBO" />
		<property name="supplierBO" ref="supplierBO" />
		<property name="requestBO" ref="requestBO" />
		<property name="biblioRecordBO" ref="biblioRecordBO" />
		<property name="z3950BO" ref="z3950BO" />
		<property name="backupBO" ref="backupBO" />
		<property name="userTypeBO" ref="userTypeBO" />
	</bean>

	<bean id="requestHandler" name="requestHandler"
		class="biblivre.acquisition.request.Handler" scope="prototype">
		<property name="orderBO" ref="requestBO" />
	</bean>

	<bean id="orderHandler" name="orderHandler"
		class="biblivre.acquisition.order.Handler" scope="prototype">
		<property name="orderBO" ref="orderBO" />
	</bean>

	<bean id="supplierHandler" name="supplierHandler"
		class="biblivre.acquisition.supplier.Handler" scope="prototype">
		<property name="supplierBO" ref="supplierBO" />
	</bean>

	<bean id="permissionHandler" name="permissionHandler"
		class="biblivre.administration.permissions.Handler" scope="prototype">
		<property name="permissionBO" ref="permissionBO" />
		<property name="loginBO" ref="loginBO" />
		<property name="userBO" ref="userBO" />
	</bean>

	<bean id="reportHandler" name="reportHandler"
		class="biblivre.administration.reports.Handler" scope="prototype">
		<property name="reportsBO" ref="reportsBO" />
	</bean>

	<bean id="authorityHandler" name="authorityHandler"
		class="biblivre.cataloging.authorities.Handler" scope="prototype">
		<property name="paginableRecordBO" ref="authorityRecordBO" />
		<property name="reportsBO" ref="reportsBO" />
		<property name="recordBOs" ref="recordBOs" />
	</bean>

	<bean id="bibliographicHandler" name="bibliographicHandler"
		class="biblivre.cataloging.bibliographic.Handler" scope="prototype">
		<property name="paginableRecordBO" ref="biblioRecordBO" />
		<property name="recordBOs" ref="recordBOs" />
	</bean>

	<bean id="vocabularyHandler" name="vocabularyHandler"
		class="biblivre.cataloging.vocabulary.Handler" scope="prototype">
		<property name="paginableRecordBO" ref="vocabularyRecordBO" />
		<property name="recordBOs" ref="recordBOs" />
	</bean>

	<bean id="holdingHandler" name="holdingHandler"
		class="biblivre.cataloging.holding.Handler" scope="prototype">
		<property name="biblioRecordBO" ref="biblioRecordBO" />
		<property name="holdingBO" ref="holdingBO" />
	</bean>

	<bean id="catalogingLabelHandler" name="catalogingLabelHandler"
		class="biblivre.cataloging.labels.Handler" scope="prototype">
		<property name="holdingBO" ref="holdingBO" />
		<property name="biblioRecordBO" ref="biblioRecordBO" />
	</bean>

	<bean id="catalogingHandler" name="catalogingHandler"
		class="biblivre.cataloging.Handler" scope="prototype">
		<property name="recordBOs" ref="recordBOs" />
		<property name="indexingBO" ref="indexingBO" />
		<property name="z3950BO" ref="z3950BO" />
		<property name="importBO" ref="importBO" />
	</bean>

	<bean id="lendingHandler" name="lendingHandler"
		class="biblivre.circulation.lending.Handler" scope="prototype">
		<property name="userBO" ref="userBO" />
		<property name="biblioRecordBO" ref="biblioRecordBO" />
		<property name="holdingBO" ref="holdingBO" />
		<property name="lendingBO" ref="lendingBO" />
		<property name="userTypeBO" ref="userTypeBO" />
		<property name="lendingFineBO" ref="lendingFineBO" />
		<property name="reservationBO" ref="reservationBO" />
	</bean>

	<bean id="reservationHandler" name="reservationHandler"
		class="biblivre.circulation.reservation.Handler" scope="prototype">
		<property name="userBO" ref="userBO" />
		<property name="biblioRecordBO" ref="biblioRecordBO" />
		<property name="reservationBO" ref="reservationBO" />
	</bean>

	<bean id="userHandler" name="userHandler"
		class="biblivre.circulation.user.Handler" scope="prototype">
		<property name="userBO" ref="userBO" />
		<property name="lendingBO" ref="lendingBO" />
		<property name="lendingFineBO" ref="lendingFineBO" />
		<property name="reservationBO" ref="reservationBO" />
		<property name="digitalMediaBO" ref="digitalMediaBO" />
	</bean>

	<bean id="userCardHandler" name="userCardHandler"
		class="biblivre.circulation.user_cards.Handler" scope="prototype">
		<property name="userBO" ref="userBO" />
	</bean>

	<bean id="z3950Handler" name="z3950Handler"
		class="biblivre.z3950.Handler" scope="prototype">
		<property name="biblioRecordBO" ref="biblioRecordBO" />
		<property name="z3950BO" ref="z3950BO" />
	</bean>

	<bean id="indexingHandler" name="indexingHandler"
		class="biblivre.administration.indexing.Handler" scope="prototype">
		<property name="indexingBO" ref="indexingBO" />
	</bean>

	<bean id="userTypeHandler" name="userTypeHandler"
		class="biblivre.administration.usertype.Handler" scope="prototype">
		<property name="userTypeBO" ref="userTypeBO" />
	</bean>

	<bean id="digitalMediaHandler" name="digitalMediaHandler"
		class="biblivre.digitalmedia.Handler" scope="prototype">
		<property name="digitalMediaBO" ref="digitalMediaBO" />
	</bean>

	<bean id="adminZ3950Handler" name="adminZ3950Handler"
		class="biblivre.administration.z3950.Handler" scope="prototype">
		<property name="z3950BO" ref="z3950BO" />
	</bean>

	<bean id="setupHandler" name="setupHandler"
		class="biblivre.administration.setup.Handler" scope="prototype">
		<property name="restoreBO" ref="restoreBO" />
		<property name="backupBO" ref="backupBO" />
	</bean>

	<!-- BOs -->

	<bean id="accessControlBO" name="accessControlBO"
		class="biblivre.circulation.accesscontrol.AccessControlBO">
		<property name="accessControlDAO" ref="accessControlDAO" />
		<property name="accessCardBO" ref="accessCardBO" />
		<property name="userBO" ref="userBO" />
	</bean>

	<bean id="accessCardBO" name="accessCardBO"
		class="biblivre.administration.accesscards.AccessCardBO">
		<property name="accessCardDAO" ref="accessCardDAO" />
	</bean>

	<bean id="permissionBO" name="permissionBO"
		class="biblivre.administration.permissions.PermissionBO">
		<property name="permissionDAO" ref="permissionDAO" />
	</bean>

	<bean id="loginBO" name="loginBO" class="biblivre.login.LoginBO">
		<property name="loginDAO" ref="loginDAO" />
		<property name="permissionBO" ref="permissionBO" />
	</bean>

	<bean id="supplierBO" name="supplierBO"
		class="biblivre.acquisition.supplier.SupplierBO">
		<property name="supplierDAO" ref="supplierDAO" />
	</bean>

	<bean id="requestBO" name="requestBO"
		class="biblivre.acquisition.request.RequestBO">

		<property name="requestDAO" ref="requestDAO" />
	</bean>

	<bean id="quotationBO" name="quotationBO"
		class="biblivre.acquisition.quotation.QuotationBO">
		<property name="quotationDAO" ref="quotationDAO" />
		<property name="supplierBO" ref="supplierBO" />
		<property name="requestBO" ref="requestBO" />
	</bean>

	<bean id="orderBO" name="orderBO"
		class="biblivre.acquisition.order.OrderBO">
		<property name="orderDAO" ref="orderDAO" />
		<property name="quotationBO" ref="quotationBO" />
		<property name="supplierBO" ref="supplierBO" />
		<property name="requestBO" ref="requestBO" />
	</bean>

	<bean id="userBO" name="userBO"
		class="biblivre.circulation.user.UserBO">
		<property name="userDAO" ref="userDAO" />
		<property name="userTypeBO" ref="userTypeBO" />
	</bean>

	<bean id="biblioRecordBO" name="biblioRecordBO"
		class="biblivre.cataloging.bibliographic.BiblioRecordBO">
		<property name="holdingBO" ref="holdingBO" />
		<property name="recordDAO" ref="recordDAO" />
		<property name="searchDAO" ref="searchDAO" />
		<property name="digitalMediaBO" ref="digitalMediaBO" />
		<property name="indexingBO" ref="indexingBO" />
		<property name="lendingDAO" ref="lendingDAO" />
		<property name="reservationBO" ref="reservationBO" />
		<property name="authorizationBO" ref="authorizationBO" />
	</bean>

	<bean id="vocabularyRecordBO" name="vocabularyRecordBO"
		class="biblivre.cataloging.vocabulary.VocabularyRecordBO">
		<property name="holdingBO" ref="holdingBO" />
		<property name="recordDAO" ref="recordDAO" />
		<property name="searchDAO" ref="searchDAO" />
		<property name="digitalMediaBO" ref="digitalMediaBO" />
		<property name="indexingBO" ref="indexingBO" />
		<property name="authorizationBO" ref="authorizationBO" />
	</bean>

	<bean id="authorityRecordBO" name="authorityRecordBO"
		class="biblivre.cataloging.authorities.AuthorityRecordBO">
		<property name="holdingBO" ref="holdingBO" />
		<property name="recordDAO" ref="recordDAO" />
		<property name="searchDAO" ref="searchDAO" />
		<property name="digitalMediaBO" ref="digitalMediaBO" />
		<property name="indexingBO" ref="indexingBO" />
		<property name="authorizationBO" ref="authorizationBO" />
	</bean>

	<bean id="holdingBO" name="holdingBO"
		class="biblivre.cataloging.holding.HoldingBO">
		<property name="holdingDAO" ref="holdingDAO" />
		<property name="loginBO" ref="loginBO" />
		<property name="userBO" ref="userBO" />
		<property name="authorizationBO" ref="authorizationBO" />
	</bean>

	<bean id="indexingBO" name="indexingBO"
		class="biblivre.administration.indexing.IndexingBO">
		<property name="recordBOs" ref="recordBOs" />
		<property name="indexingDAO" ref="indexingDAO" />
	</bean>

	<bean id="lendingBO" name="lendingBO"
		class="biblivre.circulation.lending.LendingBO">
		<property name="lendingDAO" ref="lendingDAO" />
		<property name="userBO" ref="userBO" />
		<property name="holdingBO" ref="holdingBO" />
		<property name="biblioRecordBO" ref="biblioRecordBO" />
		<property name="userTypeBO" ref="userTypeBO" />
		<property name="lendingFineBO" ref="lendingFineBO" />
		<property name="reservationBO" ref="reservationBO" />
	</bean>

	<bean id="userTypeBO" name="userTypeBO"
		class="biblivre.administration.usertype.UserTypeBO">
		<property name="userTypeDAO" ref="userTypeDAO" />
		<property name="userBO" ref="userBO" />
	</bean>

	<bean id="lendingFineBO" name="lendingFineBO"
		class="biblivre.circulation.lending.LendingFineBO">
		<property name="lendingFineDAO" ref="lendingFineDAO" />
		<property name="holdingBO" ref="holdingBO" />
		<property name="biblioRecordBO" ref="biblioRecordBO" />
		<property name="lendingBO" ref="lendingBO" />
		<property name="userTypeBO" ref="userTypeBO" />
	</bean>

	<bean id="reservationBO" name="reservationBO"
		class="biblivre.circulation.reservation.ReservationBO">
		<property name="reservationDAO" ref="reservationDAO" />
		<property name="userBO" ref="userBO" />
		<property name="biblioRecordBO" ref="biblioRecordBO" />
		<property name="userTypeBO" ref="userTypeBO" />
	</bean>

	<bean id="digitalMediaBO" name="digitalMediaBO"
		class="biblivre.digitalmedia.DigitalMediaBO">
		<property name="digitalMediaDAO" ref="digitalMediaDAO" />
	</bean>

	<bean id="importBO" name="importBO"
		class="biblivre.cataloging.ImportBO">
		<property name="biblioRecordBO" ref="biblioRecordBO" />
		<property name="vocabularyRecordBO" ref="vocabularyRecordBO" />
		<property name="authorityRecordBO" ref="authorityRecordBO" />
	</bean>

	<bean id="z3950BO" name="z3950BO" class="biblivre.z3950.Z3950BO">
		<property name="z3950DAO" ref="z3950DAO" />
	</bean>

	<bean id="authorizationBO" name="authorizationBO"
		class="biblivre.core.auth.AuthorizationBO">
		<property name="authorizationDAO" ref="authorizationDAO" />
	</bean>

	<bean id="backupBO" name="backupBO"
		class="biblivre.administration.backup.BackupBO">
		<property name="backupDAO" ref="backupDAO" />
		<property name="digitalMediaBO" ref="digitalMediaBO" />
	</bean>

	<bean id="restoreBO" name="restoreBO"
		class="biblivre.administration.backup.RestoreBO">
		<property name="backupBO" ref="backupBO" />
		<property name="digitalMediaDAO" ref="digitalMediaDAO" />
	</bean>

	<bean id="reportsBO" name="reportsBO"
		class="biblivre.administration.reports.ReportsBO">
		<property name="reportsDAO" ref="reportsDAO" />
		<property name="biblioRecordBO" ref="biblioRecordBO" />
	</bean>

	<!-- DAOs -->

	<bean id="accessControlDAO"
		class="biblivre.circulation.accesscontrol.AccessControlDAOImpl"
		factory-method="getInstance" />

	<bean id="accessCardDAO"
		class="biblivre.administration.accesscards.AccessCardDAOImpl"
		factory-method="getInstance" />

	<bean id="permissionDAO"
		class="biblivre.administration.permissions.PermissionDAOImpl"
		factory-method="getInstance" />

	<bean id="loginDAO" class="biblivre.login.LoginDAOImpl"
		factory-method="getInstance" />

	<bean id="orderDAO"
		class="biblivre.acquisition.order.OrderDAOImpl"
		factory-method="getInstance" />

	<bean id="requestDAO"
		class="biblivre.acquisition.request.RequestDAOImpl"
		factory-method="getInstance" />

	<bean id="quotationDAO"
		class="biblivre.acquisition.quotation.QuotationDAOImpl"
		factory-method="getInstance" />

	<bean id="supplierDAO"
		class="biblivre.acquisition.supplier.SupplierDAOImpl"
		factory-method="getInstance" />

	<bean id="userDAO" class="biblivre.circulation.user.UserDAOImpl"
		factory-method="getInstance" />

	<bean id="recordDAO" class="biblivre.cataloging.RecordDAOImpl"
		factory-method="getInstance" />

	<bean id="searchDAO"
		class="biblivre.cataloging.search.SearchDAOImpl"
		factory-method="getInstance" />

	<bean id="holdingDAO"
		class="biblivre.cataloging.holding.HoldingDAOImpl"
		factory-method="getInstance" />

	<bean id="indexingDAO"
		class="biblivre.administration.indexing.IndexingDAOImpl"
		factory-method="getInstance" />

	<bean id="lendingDAO"
		class="biblivre.circulation.lending.LendingDAOImpl"
		factory-method="getInstance" />

	<bean id="userTypeDAO"
		class="biblivre.administration.usertype.UserTypeDAOImpl"
		factory-method="getInstance" />

	<bean id="lendingFineDAO"
		class="biblivre.circulation.lending.LendingFineDAOImpl"
		factory-method="getInstance" />

	<bean id="reservationDAO"
		class="biblivre.circulation.reservation.ReservationDAOImpl"
		factory-method="getInstance" />

	<bean id="backupDAO"
		class="biblivre.administration.backup.BackupDAOImpl"
		factory-method="getInstance" />

	<bean id="indexingGroupsDAO"
		class="biblivre.administration.indexing.IndexingGroupsDAOImpl"
		factory-method="getInstance" />

	<bean id="reportsDAO"
		class="biblivre.administration.reports.ReportsDAOImpl"
		factory-method="getInstance" />

	<bean id="dataMigrationDAO"
		class="biblivre.administration.setup.DataMigrationDAOImpl"
		factory-method="getInstance" />

	<bean id="setupDAO"
		class="biblivre.administration.setup.SetupDAOImpl"
		factory-method="getInstance" />

	<bean id="digitalMediaDAO"
		class="biblivre.digitalmedia.DigitalMediaDAOFactory"
		factory-method="getDigitalMediaDAOImpl" />

	<bean id="z3950DAO" class="biblivre.z3950.Z3950DAOImpl"
		factory-method="getInstance" />

	<bean id="authorizationDAO"
		class="biblivre.core.auth.AuthorizationDAOImpl"
		factory-method="getInstance" />

	<bean
		class="org.springframework.beans.factory.config.MapFactoryBean"
		id="recordBOs">
		<property name="targetMapClass">
			<value>java.util.HashMap</value>
		</property>
		<property name="sourceMap">
			<map>
				<entry key="BIBLIO" value-ref="biblioRecordBO" />
				<entry key="AUTHORITIES" value-ref="authorityRecordBO" />
				<entry key="VOCABULARY" value-ref="vocabularyRecordBO" />
			</map>
		</property>
	</bean>
</beans>